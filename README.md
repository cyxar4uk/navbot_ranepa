# NavBot RANEPA - –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ê–∫–∞–¥–µ–º–∏–∏

–ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Telegram Bot + Mini App –¥–ª—è —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –≤ –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–æ–π –ê–∫–∞–¥–µ–º–∏–∏ (–†–ê–ù–•–∏–ì–°).

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–ª—è –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π
- üìÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–≥—Ä–∞–º–º—ã –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–æ–∏—Å–∫–æ–º
- üó∫ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –ê–∫–∞–¥–µ–º–∏–∏
- üìù –ó–∞–ø–∏—Å—å –Ω–∞ —Å–æ–±—ã—Ç–∏—è –∏ –≤–æ—Ä–∫—à–æ–ø—ã
- üë• –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–ø–∏–∫–µ—Ä–∞—Ö
- üì∞ –ù–æ–≤–æ—Å—Ç–∏ –∏ –∞–Ω–æ–Ω—Å—ã
- üí¨ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- üéõ Event Builder - –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
- üì¶ –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ - –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è —á–µ—Ä–µ–∑ JSON-–∫–æ–Ω—Ñ–∏–≥
- üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –±–µ–∑ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **Python 3.11+** —Å FastAPI
- **PostgreSQL** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- **SQLAlchemy** ORM + Alembic –º–∏–≥—Ä–∞—Ü–∏–∏
- **aiogram** –¥–ª—è Telegram Bot
- **OpenAI API** –¥–ª—è AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

### Frontend
- **React 18** + TypeScript
- **Vite** –¥–ª—è —Å–±–æ—Ä–∫–∏
- **Tailwind CSS** –¥–ª—è —Å—Ç–∏–ª–µ–π
- **Telegram WebApp SDK**

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker –∏ Docker Compose
- Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
- OpenAI API Key (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞)

### –ó–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <repo-url>
cd navbot_ranepa
```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```env
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_WEBAPP_URL=https://your-webapp-url.com
OPENAI_API_KEY=your_openai_key
SECRET_KEY=your-secret-key
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Docker Compose:
```bash
docker-compose up -d
```

4. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
```bash
docker-compose exec backend alembic upgrade head
```

5. –û—Ç–∫—Ä–æ–π—Ç–µ:
   - API: http://localhost:8000
   - Swagger: http://localhost:8000/docs
   - Frontend: http://localhost:3000

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±–µ–∑ Docker

#### Backend
```bash
cd backend
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
uvicorn app.main:app --reload
```

#### Frontend
```bash
cd frontend
npm install
npm run dev
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
navbot_ranepa/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/          # API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bot/          # Telegram bot handlers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/       # SQLAlchemy models
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/      # Pydantic schemas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/     # Business logic
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/        # Utilities
‚îÇ   ‚îú‚îÄ‚îÄ alembic/          # Database migrations
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/   # React components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ context/      # React contexts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/     # API client
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types/        # TypeScript types
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ docker-compose.yml
```

## API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

## –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ. –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –º–æ–∂–Ω–æ:
- –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —á–µ—Ä–µ–∑ JSON-–∫–æ–Ω—Ñ–∏–≥
- –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∏–ø—ã –º–æ–¥—É–ª–µ–π

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| `program` | –ü—Ä–æ–≥—Ä–∞–º–º–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è |
| `event_list` | –°–ø–∏—Å–∫–∏ (—Å–ø–∏–∫–µ—Ä—ã, —É—á–∞—Å—Ç–Ω–∏–∫–∏, –ø–∞—Ä—Ç–Ω–µ—Ä—ã) |
| `map` | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ |
| `assistant` | AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç |
| `news` | –ù–æ–≤–æ—Å—Ç–∏ |
| `messages` | –°–æ–æ–±—â–µ–Ω–∏—è |
| `external_link` | –í–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏ |
| `custom_page` | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã |

## AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç

–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é —Å–±–æ—Ä–∫—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
- –°–æ–±–∏—Ä–∞–µ—Ç –∑–Ω–∞–Ω–∏—è –∏–∑ –ë–î –Ω–∞ –ª–µ—Ç—É
- –û—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–º–µ—é—â–∏—Ö—Å—è –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç fallback –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –î–ª—è production

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ HTTPS (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è Telegram WebApp)
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ production-–∫–æ–Ω—Ñ–∏–≥ PostgreSQL
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ gunicorn —Å uvicorn workers

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è |
|------------|----------|--------------|
| `DATABASE_URL` | URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL | –î–∞ |
| `TELEGRAM_BOT_TOKEN` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ | –î–∞ |
| `TELEGRAM_WEBAPP_URL` | URL Mini App | –î–∞ |
| `OPENAI_API_KEY` | –ö–ª—é—á OpenAI API | –ù–µ—Ç |
| `SECRET_KEY` | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | –î–∞ |
| `REDIS_URL` | URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis | –ù–µ—Ç |

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
